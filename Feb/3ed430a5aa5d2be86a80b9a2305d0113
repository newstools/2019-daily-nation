LONDON, British MPs agreed Wednesday to give Prime Minister Theresa May more time to work on her EU withdrawal deal after she promised they could delay Brexit if necessary, but European leaders warned that any postponement would come with conditions. MPs voted by 502 to 20 to endorse May's plan, a radical shift in strategy made only after the threat of revolt by ministers who fear Britain crashing out of the European Union on March 29 without a deal. 27 STATES The prime minister is still seeking changes to a withdrawal agreement struck with the EU late last year, which she hopes will be enough to get it through parliament's lower House of Commons. But if she fails, she promised MPs they will vote on March 13 and March 14 on whether to leave the bloc with no deal at all, or to seek a short delay. "The government's policy is to get the legally binding changes so a deal can be brought back to this house... and we can leave on March 29 with a deal," May said ahead of the vote. Any delay must be approved by the other 27 EU member states, and the bloc's leaders have agreed to look at any request from Britain. But some questioned what it would achieve without a breakthrough in London, where MPs still cannot agree how to implement the 2016 Brexit referendum result. "We don't need more time: what we need most of all is a decision," French President Emmanuel Macron said after meeting German Chancellor Angela Merkel in Paris. "If Britain needs more time, then clearly we shall not refuse," added Merkel, without mentioning conditions. In Madrid, Prime Minister Pedro Sanchez said: "Although Spain will not oppose granting a possible extension, this must have an assured perspective of resolution." U-TURN May had repeatedly ruled out delaying Brexit, even after her deal -- covering citizens' rights, the financial settlement, a transition period and plans for the Irish border -- was overwhelmingly rejected by MPs in January. Her U-turn on Tuesday prompted outrage among hardliners in May's Conservative Party, with influential anti-EU MP Jacob Rees-Mogg warning that "any delay to Brexit is a plot to stop Brexit". Some eurosceptics Conservatives appeared to have abstained or rebelled during the main vote on Wednesday. However, May's change of plan averted a rebellion by pro-Europeans who fear economic chaos if Britain ends its 46-year-old relationship with the EU without a deal. In a rare moment of unity, MPs approved without a vote an amendment seeking to protect the rights of 3.6 million Europeans living in Britain, and more than one million Britons living in EU countries. It calls on the government to make efforts to preserve the rights of those expats set out in the divorce agreement, even in a "no deal" scenario. May has already said she will protect the rights of those in Britain, but one of her ministers has now agreed to write to EU institutions to urge a joint approach. "My amendment does not deal in goods or services, backstops or borders, but people, living and breathing, skin and bone," said its author, Conservative MP Alberto Costa. CUSTOMS UNION In a twist, Costa was forced to quit as a junior minister because he was not technically allowed to put forward the amendment. The basis of many MPs' dislike of the divorce deal is its Irish border "backstop" plan. May is seeking guarantees of the temporary nature of the backstop, which risks keeping Britain in the EU's customs union indefinitely to keep the Irish border open. Elsewhere, MPs defeated by 323 to 240 an amendment from main opposition Labour leader Jeremy Corbyn calling for a new customs union with the EU and close alignment with the bloc's single market. Corbyn dramatically shifted his own position on Brexit this week by opening the door to backing a second referendum. Labour spokesman Matthew Pennycook told MPs earlier that if its plan was rejected, the party would "move to propose or support future public vote amendments in parliament". Any public vote would "offer the British people a choice between a credible 'Leave' option endorsed by this house, and the option of staying in the EU", he said. Elsewhere, MPs voted by 324 votes to 288 to reject a Scottish National Party motion to avoid "no deal".   News prompts fresh calls to delay Brexit to avoid a damaging 'no deal' exit on March 29.